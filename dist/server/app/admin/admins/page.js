(()=>{var e={};e.id=4831,e.ids=[4831],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8559:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(66057).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/aashishkhadka/Documents/Mindwell/src/app/admin/admins/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/aashishkhadka/Documents/Mindwell/src/app/admin/admins/page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},22035:(e,t,s)=>{"use strict";s.d(t,{A0:()=>i,BF:()=>d,Hj:()=>l,XI:()=>n,nA:()=>c,nd:()=>o,r6:()=>u});var a=s(56877);s(9048);var r=s(79516);function n({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",e),...t})})}function i({className:e,...t}){return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,r.cn)("[&_tr]:border-b",e),...t})}function d({className:e,...t}){return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",e),...t})}function l({className:e,...t}){return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function o({className:e,...t}){return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,r.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function c({className:e,...t}){return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,r.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function u({className:e,...t}){return(0,a.jsx)("caption",{"data-slot":"table-caption",className:(0,r.cn)("text-muted-foreground mt-4 text-sm",e),...t})}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30207:(e,t,s)=>{"use strict";s.d(t,{J:()=>l});var a=s(56877),r=s(9048),n=s(40584),i=r.forwardRef((e,t)=>(0,a.jsx)(n.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var d=s(79516);function l({className:e,...t}){return(0,a.jsx)(i,{"data-slot":"label",className:(0,d.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}},30764:(e,t,s)=>{"use strict";s.d(t,{$v:()=>h,EO:()=>u,Lt:()=>d,Rx:()=>g,Zr:()=>f,ck:()=>x,r7:()=>p,tv:()=>l,wd:()=>m});var a=s(56877);s(9048);var r=s(14983),n=s(79516),i=s(59363);function d({...e}){return(0,a.jsx)(r.bL,{"data-slot":"alert-dialog",...e})}function l({...e}){return(0,a.jsx)(r.l9,{"data-slot":"alert-dialog-trigger",...e})}function o({...e}){return(0,a.jsx)(r.ZL,{"data-slot":"alert-dialog-portal",...e})}function c({className:e,...t}){return(0,a.jsx)(r.hJ,{"data-slot":"alert-dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function u({className:e,...t}){return(0,a.jsxs)(o,{children:[(0,a.jsx)(c,{}),(0,a.jsx)(r.UC,{"data-slot":"alert-dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function m({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function x({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,n.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function p({className:e,...t}){return(0,a.jsx)(r.hE,{"data-slot":"alert-dialog-title",className:(0,n.cn)("text-lg font-semibold",e),...t})}function h({className:e,...t}){return(0,a.jsx)(r.VY,{"data-slot":"alert-dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",e),...t})}function g({className:e,...t}){return(0,a.jsx)(r.rc,{className:(0,n.cn)((0,i.r)(),e),...t})}function f({className:e,...t}){return(0,a.jsx)(r.ZD,{className:(0,n.cn)((0,i.r)({variant:"outline"}),e),...t})}},33873:e=>{"use strict";e.exports=require("path")},40584:(e,t,s)=>{"use strict";s.d(t,{hO:()=>l,sG:()=>d});var a=s(9048),r=s(42201),n=s(93179),i=s(56877),d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let s=(0,n.TL)(`Primitive.${t}`),r=a.forwardRef((e,a)=>{let{asChild:r,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(r?s:t,{...n,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function l(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}},41936:(e,t,s)=>{Promise.resolve().then(s.bind(s,8559))},51664:(e,t,s)=>{Promise.resolve().then(s.bind(s,93822))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},59138:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o});var a=s(39553),r=s(74854),n=s(23296),i=s.n(n),d=s(87047),l={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);s.d(t,l);let o={children:["",{children:["admin",{children:["admins",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8559)),"/Users/aashishkhadka/Documents/Mindwell/src/app/admin/admins/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,68251)),"/Users/aashishkhadka/Documents/Mindwell/src/app/admin/layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,75532,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,15117,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,53610,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/aashishkhadka/Documents/Mindwell/src/app/admin/admins/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/admin/admins/page",pathname:"/admin/admins",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},93822:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>C});var a=s(56877),r=s(59363),n=s(30764),i=s(22035),d=s(69782),l=s(91270),o=s(74452),c=s(20518),u=s(99798),m=s(85212);let x=(0,m.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),p=(0,m.A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var h=s(9048),g=s(22810),f=s(54745),j=s(79516);function v({...e}){return(0,a.jsx)(g.bL,{"data-slot":"dialog",...e})}function b({...e}){return(0,a.jsx)(g.l9,{"data-slot":"dialog-trigger",...e})}function y({...e}){return(0,a.jsx)(g.ZL,{"data-slot":"dialog-portal",...e})}function N({className:e,...t}){return(0,a.jsx)(g.hJ,{"data-slot":"dialog-overlay",className:(0,j.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function w({className:e,children:t,...s}){return(0,a.jsxs)(y,{"data-slot":"dialog-portal",children:[(0,a.jsx)(N,{}),(0,a.jsxs)(g.UC,{"data-slot":"dialog-content",className:(0,j.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...s,children:[t,(0,a.jsxs)(g.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(f.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function k({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,j.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function A({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,j.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function q({className:e,...t}){return(0,a.jsx)(g.hE,{"data-slot":"dialog-title",className:(0,j.cn)("text-lg leading-none font-semibold",e),...t})}function P({className:e,...t}){return(0,a.jsx)(g.VY,{"data-slot":"dialog-description",className:(0,j.cn)("text-muted-foreground text-sm",e),...t})}var _=s(30207),E=s(88115),F=s(20617);function C(){let[e,t]=(0,h.useState)(null),{data:s,isLoading:m,error:g}=(0,d.I)({queryKey:["admins"],queryFn:async()=>(await c.A.get("/api/admin/admins/")).data}),f=(0,l.jE)(),j=(0,o.n)({mutationFn:async e=>(await c.A.delete(`/api/admin/admins/${e}`)).data,onSuccess:()=>{u.oR.success("User deleted successfully"),f.invalidateQueries({queryKey:["admins"]})},onError:e=>{u.oR.error(e.message||"Failed to delete user")}}),{register:y,handleSubmit:N}=(0,F.mN)(),C=(0,o.n)({mutationFn:async e=>(await c.A.post("/api/admin/create-admin",e)).data,onSuccess:()=>{u.oR.success("Admin added successfully"),f.invalidateQueries({queryKey:["admins"]})},onError:e=>{u.oR.error(e.message||"Failed to add admin")}}),{register:z,handleSubmit:M,reset:D}=(0,F.mN)(),R=(0,o.n)({mutationFn:async t=>(await c.A.patch(`/api/admin/admins/${e?.id}`,t)).data,onSuccess:()=>{u.oR.success("Admin updated successfully"),f.invalidateQueries({queryKey:["admins"]}),t(null)},onError:e=>{u.oR.error(e.message||"Failed to update admin")}}),S=e=>{R.mutate(e)},L=e=>{t(e),D({name:e.name,email:e.email})};return m?(0,a.jsx)("div",{children:"Loading..."}):g?(0,a.jsxs)("div",{children:["Error: ",g.message]}):(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold pb-4",children:" Manage Admin"}),(0,a.jsxs)(v,{children:[(0,a.jsx)(b,{asChild:!0,children:(0,a.jsxs)(r.$,{children:[" ",(0,a.jsx)(x,{}),"Add Admin"]})}),(0,a.jsx)(w,{className:"sm:max-w-[425px]",children:(0,a.jsxs)("form",{onSubmit:N(e=>{C.mutate(e)}),children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(q,{children:"Add Admin"}),(0,a.jsx)(P,{children:"Add a new admin to the system."})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(_.J,{htmlFor:"name",className:"text-right",children:"Full Name"}),(0,a.jsx)(E.p,{id:"name",placeholder:"Infomax College",className:"col-span-3",...y("name")})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(_.J,{htmlFor:"username",className:"text-right",children:"Email"}),(0,a.jsx)(E.p,{id:"username",placeholder:"admin@gmail.com",className:"col-span-3",...y("email")})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(_.J,{htmlFor:"username",className:"text-right",children:"Password"}),(0,a.jsx)(E.p,{id:"password",placeholder:"********",className:"col-span-3",...y("password")})]})]}),(0,a.jsx)(A,{children:(0,a.jsx)(r.$,{type:"submit",children:"Add"})})]})})]})]}),(0,a.jsxs)(i.XI,{children:[(0,a.jsx)(i.r6,{children:"A list of admins registered in the system."}),(0,a.jsx)(i.A0,{className:"bg-secondary text-secondary",children:(0,a.jsxs)(i.Hj,{children:[(0,a.jsx)(i.nd,{className:"w-[100px]",children:"User ID"}),(0,a.jsx)(i.nd,{children:"Full Name"}),(0,a.jsx)(i.nd,{children:"Email"}),(0,a.jsx)(i.nd,{children:"Actions"})]})}),(0,a.jsx)(i.BF,{children:s?.map(e=>(0,a.jsxs)(i.Hj,{className:"hover:bg-secondary",children:[(0,a.jsx)(i.nA,{className:"font-medium",children:e.id.toString().slice(0,6)}),(0,a.jsx)(i.nA,{children:e.name}),(0,a.jsx)(i.nA,{children:e.email}),(0,a.jsxs)(i.nA,{className:"flex gap-2",children:[(0,a.jsxs)(v,{children:[(0,a.jsx)(b,{asChild:!0,children:(0,a.jsx)(r.$,{variant:"outline",onClick:()=>L(e),children:(0,a.jsx)(p,{className:"h-4 w-4"})})}),(0,a.jsx)(w,{className:"sm:max-w-[425px]",children:(0,a.jsxs)("form",{onSubmit:M(S),children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(q,{children:"Edit Admin"}),(0,a.jsx)(P,{children:"Update admin information."})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(_.J,{htmlFor:"name",className:"text-right",children:"Full Name"}),(0,a.jsx)(E.p,{id:"name",className:"col-span-3",...z("name")})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(_.J,{htmlFor:"email",className:"text-right",children:"Email"}),(0,a.jsx)(E.p,{id:"email",className:"col-span-3",...z("email")})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(_.J,{htmlFor:"password",className:"text-right",children:"New Password"}),(0,a.jsx)(E.p,{id:"password",type:"password",placeholder:"Leave empty to keep current",className:"col-span-3",...z("password")})]})]}),(0,a.jsx)(A,{children:(0,a.jsx)(r.$,{type:"submit",children:"Save Changes"})})]})})]}),(0,a.jsxs)(n.Lt,{children:[(0,a.jsx)(n.tv,{asChild:!0,children:(0,a.jsx)(r.$,{variant:"destructive",children:"Delete"})}),(0,a.jsxs)(n.EO,{children:[(0,a.jsxs)(n.wd,{children:[(0,a.jsx)(n.r7,{children:"Are you absolutely sure?"}),(0,a.jsx)(n.$v,{children:"This action cannot be undone. This will permanently delete the user from the system."})]}),(0,a.jsxs)(n.ck,{children:[(0,a.jsx)(n.Zr,{children:"Cancel"}),(0,a.jsx)(n.Rx,{onClick:()=>j.mutate(e.id),children:j.isPending?"Deleting...":"Delete"})]})]})]})]})]},e.id))})]})]})}},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[4659,5889,3831,318,5818,9782,2636,4052,8589],()=>s(59138));module.exports=a})();