(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6028],{1564:(e,t,r)=>{"use strict";r.d(t,{F:()=>i});var a=r(5898);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,n=a.$,i=(e,t)=>r=>{var a;if((null==t?void 0:t.variants)==null)return n(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:l}=t,o=Object.keys(i).map(e=>{let t=null==r?void 0:r[e],a=null==l?void 0:l[e];if(null===t)return null;let n=s(t)||s(a);return i[e][n]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{});return n(e,o,null==t||null==(a=t.compoundVariants)?void 0:a.reduce((e,t)=>{let{class:r,className:a,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...l,...c}[t]):({...l,...c})[t]===r})?[...e,r,a]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},2298:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(5898),s=r(6650);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},2713:(e,t,r)=>{"use strict";r.d(t,{p:()=>s});var a=r(2074);function s(e,t){let r=(0,a.a)(e,null==t?void 0:t.in),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(23,59,59,999),r}},4722:(e,t,r)=>{"use strict";r.d(t,{U:()=>s});var a=r(7764);function s(e,t,r){let[s,n]=(0,a.x)(null==r?void 0:r.in,e,t);return 12*(s.getFullYear()-n.getFullYear())+(s.getMonth()-n.getMonth())}},4813:(e,t,r)=>{"use strict";r.d(t,{$:()=>o,r:()=>l});var a=r(5881);r(6797);var s=r(9855),n=r(1564),i=r(2298);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:r,size:n,asChild:o=!1,...c}=e,d=o?s.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,i.cn)(l({variant:r,size:n,className:t})),...c})}},5150:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(3055).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5623:(e,t,r)=>{"use strict";r.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>l,Zp:()=>n,aR:()=>i,wL:()=>d});var a=r(5881);r(6797);var s=r(2298);function n(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function i(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...r})}function d(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center px-6 [.border-t]:pt-6",t),...r})}},7404:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var a=r(5881),s=r(70),n=r.n(s),i=r(9212),l=r(8996),o=r(8401),c=r(5841),d=r(7764),u=r(2074);function f(e,t){let r=(0,u.a)(e)-(0,u.a)(t);return r<0?-1:r>0?1:r}var v=r(6712),m=r(4722),h=r(2713),x=r(5623),g=r(4813),p=r(7986);let b=(0,r(3055).A)("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var j=r(5150),N=r(7269),y=r(3078),w=r(7329);function k(){let{data:e,isLoading:t}=(0,N.I)({queryKey:["posts"],queryFn:()=>y.A.get("/api/post").then(e=>e.data)}),r=null;{let e=localStorage.getItem("token");if(e)try{r=(0,w.s)(e)}catch(e){console.error("Error decoding token:",e)}}return t?(0,a.jsx)("div",{className:"h-[80vh]",children:"Loading..."}):(0,a.jsx)("div",{className:"container py-8 px-4 mx-auto",children:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Community Forum"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Connect with peers, share experiences, and find support"})]}),r&&(0,a.jsx)(g.$,{asChild:!0,children:(0,a.jsx)(n(),{href:"/community/create",children:"Create Post"})})]}),(0,a.jsx)("div",{className:"grid gap-4",children:null==e?void 0:e.map(e=>{var t,r;return(0,a.jsx)(n(),{href:"/community/".concat(e.id),className:"block",children:(0,a.jsxs)(x.Zp,{className:"hover:bg-muted/50 transition-colors",children:[(0,a.jsx)(x.aR,{className:"pb-2",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(x.ZB,{className:"text-xl",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center text-muted-foreground text-sm",children:[(0,a.jsx)(b,{className:"h-4 w-4 mr-1"}),e.comments.length]})]})}),(0,a.jsx)(x.Wu,{className:"pb-2",children:(0,a.jsx)("p",{className:"text-muted-foreground line-clamp-2",children:e.content})}),(0,a.jsxs)(x.wL,{className:"pt-0 flex justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(p.Avatar,{className:"h-6 w-6",children:[(0,a.jsx)(p.AvatarImage,{src:e.author.image||"/placeholder.svg",alt:e.author.name}),(0,a.jsx)(p.AvatarFallback,{children:(0,a.jsx)(j.A,{className:"h-4 w-4"})})]}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:e.author.name})]}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:(t=e.createdAt,r={addSuffix:!0},function(e,t,r){var a,s;let n,i=(0,o.q)(),x=null!=(s=null!=(a=null==r?void 0:r.locale)?a:i.locale)?s:l.c,g=f(e,t);if(isNaN(g))throw RangeError("Invalid time value");let p=Object.assign({},r,{addSuffix:null==r?void 0:r.addSuffix,comparison:g}),[b,j]=(0,d.x)(null==r?void 0:r.in,...g>0?[t,e]:[e,t]),N=function(e,t,r){var a;return(a=void 0,e=>{let t=(a?Math[a]:Math.trunc)(e);return 0===t?0:t})(((0,u.a)(e)-(0,u.a)(t))/1e3)}(j,b),y=Math.round((N-((0,c.G)(j)-(0,c.G)(b))/1e3)/60);if(y<2)if(null==r?void 0:r.includeSeconds)if(N<5)return x.formatDistance("lessThanXSeconds",5,p);else if(N<10)return x.formatDistance("lessThanXSeconds",10,p);else if(N<20)return x.formatDistance("lessThanXSeconds",20,p);else if(N<40)return x.formatDistance("halfAMinute",0,p);else if(N<60)return x.formatDistance("lessThanXMinutes",1,p);else return x.formatDistance("xMinutes",1,p);else if(0===y)return x.formatDistance("lessThanXMinutes",1,p);else return x.formatDistance("xMinutes",y,p);if(y<45)return x.formatDistance("xMinutes",y,p);if(y<90)return x.formatDistance("aboutXHours",1,p);if(y<v.F6){let e=Math.round(y/60);return x.formatDistance("aboutXHours",e,p)}if(y<2520)return x.formatDistance("xDays",1,p);else if(y<v.Nw){let e=Math.round(y/v.F6);return x.formatDistance("xDays",e,p)}else if(y<2*v.Nw)return n=Math.round(y/v.Nw),x.formatDistance("aboutXMonths",n,p);if((n=function(e,t,r){let[a,s,n]=(0,d.x)(void 0,e,e,t),i=f(s,n),l=Math.abs((0,m.U)(s,n));if(l<1)return 0;1===s.getMonth()&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-i*l);let o=f(s,n)===-i;(function(e,t){let r=(0,u.a)(e,void 0);return+function(e,t){let r=(0,u.a)(e,null==t?void 0:t.in);return r.setHours(23,59,59,999),r}(r,void 0)==+(0,h.p)(r,t)})(a)&&1===l&&1===f(a,n)&&(o=!1);let c=i*(l-o);return 0===c?0:c}(j,b))<12){let e=Math.round(y/v.Nw);return x.formatDistance("xMonths",e,p)}{let e=n%12,t=Math.trunc(n/12);return e<3?x.formatDistance("aboutXYears",t,p):e<9?x.formatDistance("overXYears",t,p):x.formatDistance("almostXYears",t+1,p)}}(t,(0,i.w)(t,Date.now()),r))})]})]})},e.id)})})]})})}},7986:(e,t,r)=>{"use strict";r.d(t,{Avatar:()=>i,AvatarFallback:()=>o,AvatarImage:()=>l});var a=r(5881);r(6797);var s=r(7133),n=r(2298);function i(e){let{className:t,...r}=e;return(0,a.jsx)(s.bL,{"data-slot":"avatar",className:(0,n.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)(s._V,{"data-slot":"avatar-image",className:(0,n.cn)("aspect-square size-full",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)(s.H4,{"data-slot":"avatar-fallback",className:(0,n.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...r})}},9724:(e,t,r)=>{Promise.resolve().then(r.bind(r,7404))}},e=>{var t=t=>e(e.s=t);e.O(0,[2259,70,9386,8034,3595,8471,8364,9770,7358],()=>t(9724)),_N_E=e.O()}]);